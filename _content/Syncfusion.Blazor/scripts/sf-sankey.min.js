/*!*  filename: sf-sankey.min.js 
*     version : 28.1.39 
*     Copyright Syncfusion Inc. 2001 - 2025. All rights reserved. 
*     Use of this code is subject to the terms of our license.
*     A copy of the current license can be obtained at any time by e-mailing 
*     licensing@syncfusion.com. Any infringement will be prosecuted under 
*     applicable laws. 
*/
(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"./bundles/sf-sankey.js":function(e,t,n){"use strict";n.r(t);n("./modules/sf-sankey.js")},"./modules/sf-sankey.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Sankey=function(){"use strict";var e=function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{a(s.next(e))}catch(e){o(e)}}function h(e){try{a(s.throw(e))}catch(e){o(e)}}function a(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(r,h)}a((s=s.apply(e,t||[])).next())}))},t=function(e,t){var n,s,i,o,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function h(o){return function(h){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=2&o[0]?s.return:o[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,o[1])).done)return i;switch(s=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,s=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(i=r.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){r=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(6===o[0]&&r.label<i[1]){r.label=i[1],i=o;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(o);break}i[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(e){o=[6,e],s=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,h])}}},n=function(){function e(e,t,n,s){window.sfBlazor=window.sfBlazor,this.isDisposed=!1,this.mouseY=0,this.mouseX=0,this.svgOffsetX=0,this.svgOffsetY=0,this.isTouch=!1,this.eventInterval=80,this.mouseMoveRef=null,this.mouseMoveThreshold=null,this.chartOnMouseClickRef=null,this.mouseLeaveRef=null,this.chartKeyDownRef=null,this.chartOnMouseDownRef=null,this.mouseEndRef=null,this.dataId=e,this.id=t,this.svgId=t+"_svg",this.element=n,this.dotnetref=s,window.sfBlazor.setCompInstance(this),this.wireEvents()}return e.prototype.destroySankey=function(){this.unwireEvents()},e.prototype.wireEvents=function(){s.dotnetrefCollection.push({id:this.id,dotnetref:this.dotnetref}),s.resizeBound=s.sankeyResize.bind(this,s.dotnetrefCollection);var e="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(e,s.resizeBound),this.chartOnMouseDownRef=this.chartOnMouseDown.bind(this),this.mouseEndRef=this.mouseEnd.bind(this),this.mouseMoveRef=this.mouseMove.bind(this),this.chartOnMouseClickRef=this.chartOnMouseClick.bind(this),this.mouseLeaveRef=this.mouseLeave.bind(this),this.chartKeyDownRef=this.chartKeyDown.bind(this),sf.base.EventHandler.add(this.element,sf.base.Browser.touchStartEvent,this.chartOnMouseDownRef),sf.base.EventHandler.add(this.element,sf.base.Browser.touchEndEvent,this.mouseEndRef),this.element.addEventListener("mousemove",this.mouseMoveRef),this.element.addEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.add(this.element,"click",this.chartOnMouseClickRef),sf.base.EventHandler.add(this.element,sf.base.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeaveRef),sf.base.EventHandler.add(this.element,"keydown",this.chartKeyDownRef)},e.prototype.unwireEvents=function(){var e="onorientationchange"in window?"orientationchange":"resize";window.removeEventListener(e,s.resizeBound),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchStartEvent,this.chartOnMouseDownRef),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchEndEvent,this.mouseEndRef),this.element.removeEventListener("mousemove",this.mouseMoveRef),this.element.removeEventListener("touchmove",this.mouseMoveRef),sf.base.EventHandler.remove(this.element,"click",this.chartOnMouseClickRef),sf.base.EventHandler.remove(this.element,sf.base.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeaveRef),sf.base.EventHandler.remove(this.element,"keydown",this.chartKeyDownRef)},e.prototype.chartOnMouseDown=function(e){this.dotnetref.invokeMethodAsync("OnChartMouseDown",this.getEventArgs(e))},e.prototype.mouseEnd=function(e){this.dotnetref.invokeMethodAsync("OnMouseEnd",this.getEventArgs(e))},e.prototype.mouseMove=function(e){(null==this.mouseMoveThreshold||(new Date).getTime()-this.mouseMoveThreshold>this.eventInterval)&&(this.mouseMoveThreshold=(new Date).getTime(),this.dotnetref.invokeMethodAsync("OnChartMouseMove",this.getEventArgs(e)))},e.prototype.chartOnMouseClick=function(e){this.dotnetref.invokeMethodAsync("OnChartMouseClick",this.getEventArgs(e))},e.prototype.mouseLeave=function(e){this.dotnetref.invokeMethodAsync("OnChartMouseLeave",this.getEventArgs(e))},e.prototype.chartKeyDown=function(e){this.dotnetref.invokeMethodAsync("OnChartKeyDown",this.getKeyboardEventArgs(e))},e.prototype.getEventArgs=function(e){var t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,n=e.changedTouches?e.changedTouches[0].clientY:e.clientY;return this.setMouseXY(t,n),{type:e.type,clientX:t,clientY:n,mouseX:this.mouseX,mouseY:this.mouseY,target:e.target.id,svgOffsetX:this.svgOffsetX,svgOffsetY:this.svgOffsetY}},e.prototype.getKeyboardEventArgs=function(e){return{type:e.type,key:e.key,keyCode:e.keyCode,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey}},e.prototype.setMouseXY=function(e,t){var n=this.element.id,s=document.getElementById(n+"_svg"),i=document.getElementById(n);if(s&&i){var o=s.getBoundingClientRect(),r=i.getBoundingClientRect(),h=Math.max(o.left-r.left,0),a=Math.max(o.top-r.top,0);this.mouseY=t-r.top-a,this.mouseX=e-r.left-h,this.svgOffsetX=h,this.svgOffsetY=a}},e}(),s={initializeSankey:function(e,t,s){new n(e,t.id,t,s)},dotnetrefCollection:[],destroySankey:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||t.destroySankey()},getSankeyParentSize:function(e){var t=document.getElementById(e);if(t){var n=document.getElementById(e+"_svg");n&&(n.style.display="none"),t.style.width="100%",t.style.height="100%";var s=t.getBoundingClientRect(),i=s.width||t.clientWidth||t.offsetWidth,o=s.height||t.clientHeight||t.offsetHeight;return n&&(n.style.display=""),{width:i,height:o,left:s.left,top:s.top,right:s.right,bottom:s.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getSankeyElementBoundsById:function(e,t){void 0===t&&(t=!0),t&&(this.id=e);var n=document.getElementById(e);if(n){var s=n.getBoundingClientRect();return{width:n.clientWidth||n.offsetWidth,height:n.clientHeight||n.offsetHeight,left:s.left,top:s.top,right:s.right,bottom:s.bottom}}return{width:0,height:0,left:0,top:0,right:0,bottom:0}},getAllCharacters:function(){for(var e=[],t=33;t<591;t++)e.push(String.fromCharCode(t));return e},getSankeyCharCollectionSize:function(n){return e(this,void 0,void 0,(function(){var e,s,i,o,r,h,a,l,u,f,d,c,v,m,y;return t(this,(function(t){switch(t.label){case 0:for(e=[],s=this.getAllCharacters(),i=[],o={},l=0;l<n.length;l++)(r=n[l].split("_"))&&r.length>2&&(c=r[2],Object.prototype.hasOwnProperty.call(o,c)||(o[c]=!0,i.push(c)));h=0,a=i,t.label=1;case 1:return h<a.length?(c=a[h],[4,document.fonts.load("1em "+c)]):[3,4];case 2:t.sent(),t.label=3;case 3:return h++,[3,1];case 4:for(l=0;l<n.length;l++)for(u=n[l].split("_"),f=u[0],d=u[1],c=u[2],v=0;v<s.length;v++)m=s[v],y=this.measureText(m,f,d,c).Width,e.push(y.toString());return[2,JSON.stringify(e)]}}))}))},getSankeyCharSizeByFontKeys:function(e){for(var t,n={},s=e.length,i=[],o=0;o<s;o++)i=e[parseInt(o.toString(),10)].split("_"),t=this.measureText(i[0],i[1],i[2],i[3]),n[e[parseInt(o.toString(),10)]]={X:t.Width,Y:t.Height};return JSON.stringify(n)},measureText:function(e,t,n,s){var i=document.getElementById("sfsankeychartmeasuretext");return null===i&&(i=sf.base.createElement("text",{id:"sfsankeychartmeasuretext"}),document.body.appendChild(i))," "===e&&(e="&nbsp;"),i.innerHTML=e,i.style.position="fixed",i.style.fontSize="100px",i.style.fontWeight=t,i.style.fontStyle=n,i.style.fontFamily=s,i.style.visibility="hidden",i.style.top="-100",i.style.left="0",i.style.whiteSpace="nowrap",i.style.lineHeight="normal",{Width:i.clientWidth,Height:i.clientHeight}},removeClipPathsFromGroups:function(e){var t=document.getElementById(e);if(t)for(var n=t.getElementsByTagName("g"),s=0;s<n.length;s++){var i=n[s];i.hasAttribute("clip-path")&&-1===i.id.indexOf("_legend_collection")&&i.removeAttribute("clip-path")}},sankeyResize:function(e){var t=this;return this.resize&&clearTimeout(this.resize),this.isDisposed||(this.resize=setTimeout((function(){for(var n,s,i,o=e.length,r={},h=0;h<o;h++)n=e[parseInt(h.toString(),10)].dotnetref,s=e[parseInt(h.toString(),10)].id,i=document.getElementById(s+"_svg"),sf.base.isNullOrUndefined(i)||(i.style.display="none");for(h=0;h<o;h++)n=e[parseInt(h.toString(),10)].dotnetref,s=e[parseInt(h.toString(),10)].id,i=document.getElementById(s),sf.base.isNullOrUndefined(i)||(r[""+s]={Dotnetref:n,Width:i.clientWidth||i.offsetWidth,Height:i.clientHeight||i.offsetHeight});for(var a in r)if(r[""+a]){var l=r[""+a].Dotnetref,u=document.getElementById(a+"_svg");sf.base.isNullOrUndefined(u)||(l.invokeMethodAsync("OnSankeyResize",JSON.stringify({Width:r[""+a].Width,Height:r[""+a].Height})),u.style.display="")}clearTimeout(t.resize)}),500)),!1},resizeBound:void 0,resize:void 0};return s}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor/scripts/syncfusion-blazor-base.min.js?v=28.1.undefined`).then(()=>{sfBlazor.loadDependencies('sfsankey');})})();